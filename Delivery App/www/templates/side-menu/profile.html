<ion-modal-view ng-controller="ProfileCtrl" dir="{{default_direction}}">
    <ion-header-bar class="bar-assertive">
        <h1 class="title title-right" translate="PROFILE" ng-show="isRTL()"></h1>
        <button class="button button-icon button-clear" ng-click="close()"><span class="icon" ng-class="isRTL() ? 'ion-chevron-right' : 'ion-chevron-left'"></span></button>
        <h1 class="title" translate="PROFILE" ng-show="!isRTL()"></h1>
    </ion-header-bar>

    <ion-content overflow-scroll="false">
        <div class="text-center padding-top" style="height: 25%; min-height: 100px; background-image: url('img/modal-bg.jpg'); background-repeat: repeat-x; background-size: contain; background-position: center;">
            <img src="img/delivery_logo_{{versionCountry}}.png" style="vertical-align: middle; width: 40%;">
        </div>
        <div class="padding-left padding-right" ng-class="{'text-right': isRTL()}">
            <form name="Cform">
                <div class="list">
                    <label class="item item-input item-floating-label" style="margin-top: 5px; padding: 0px 5px;float:none;" ng-class="lang == 'ar' ? 'right_to_left' : 'left_to_right'">
                        <span class="input-label assertive-900" style="text-align: {{default_float}};"><i class="icon ion-checkmark" style="color: green;" ng-show="customerProfile.username.length >= 3"></i> {{'USERNAME' | translate}}</span>
                        <input type="text" style="padding-right: 0px;" ng-model="customerProfile.username" placeholder="{{'USERNAME' | translate}}" required min="3">
                    </label>
                    <div ng-class="isRTL() ? 'error-container-rtl' : 'error-container'" ng-hide="customerProfile.username.length >= 3">
                        <div class="error" ng-hide="customerProfile.username.length > 0">
                            <i class="ion-information-circled"></i>
                            {{'VALIDATION_REQUIRED' | translate}}
                        </div>
                        <div class="error" ng-show="customerProfile.username.length < 3">
                            <i class="ion-information-circled"></i>
                            {{'VALIDATION_MIN_3' | translate}}
                        </div>
                    </div>
                    <label class="item item-input item-floating-label" style="margin-top: 5px; padding: 0px 5px;float:none;" ng-class="lang == 'ar' ? 'right_to_left' : 'left_to_right'">
                        <span class="input-label assertive-900" style="text-align: {{default_float}};"><i class="icon ion-checkmark" style="color: green;" ng-show="customerProfile.full_name.length >= 3"></i> {{'FULL_NAME' | translate}}</span>
                        <input type="text" style="padding-right: 0px;" ng-model="customerProfile.full_name" placeholder="{{'FULL_NAME' | translate}}" required min="3">
                    </label>
                    <div ng-class="isRTL() ? 'error-container-rtl' : 'error-container'" ng-hide="customerProfile.full_name.length >= 3">
                        <div class="error" ng-hide="customerProfile.full_name.length > 0">
                            <i class="ion-information-circled"></i>
                            {{'VALIDATION_REQUIRED' | translate}}
                        </div>
                        <div class="error" ng-show="customerProfile.full_name.length < 3">
                            <i class="ion-information-circled"></i>
                            {{'VALIDATION_MIN_3' | translate}}
                        </div>
                    </div>
                    <label class="item item-input item-floating-label" style="margin-top: 5px; padding: 0px 5px;float:none;" ng-class="lang == 'ar' ? 'right_to_left' : 'left_to_right'">
                        <span class="input-label assertive-900" style="text-align: {{default_float}};"><i class="icon ion-checkmark" style="color: green;" ng-show="customerProfile.password.length >= 8"></i> {{'PASSWORD' | translate}}</span>
                        <input type="password" style="padding-right: 0px;" ng-model="customerProfile.password" placeholder="{{'PASSWORD' | translate}}" required min="8">
                    </label>
                    <div ng-class="isRTL() ? 'error-container-rtl' : 'error-container'" ng-hide="customerProfile.password.length >= 8">
                        <div class="error" ng-hide="customerProfile.password.length > 0">
                            <i class="ion-information-circled"></i>
                            {{'VALIDATION_REQUIRED' | translate}}
                        </div>
                        <div class="error" ng-show="customerProfile.password.length < 8">
                            <i class="ion-information-circled"></i>
                            {{'VALIDATION_MIN_8' | translate}}
                        </div>
                    </div>
                    <label class="item item-input item-floating-label" style="margin-top: 5px; padding: 0px 5px;float:none;" ng-class="lang == 'ar' ? 'right_to_left' : 'left_to_right'">
                        <span class="input-label assertive-900" style="text-align: {{default_float}};"><i class="icon ion-checkmark" style="color: green;" ng-show="customerProfile.password_confirmation == customerProfile.password"></i> {{'CONFIRM_PASSWORD' | translate}}</span>
                        <input type="password" style="padding-right: 0px;" ng-model="customerProfile.password_confirmation" placeholder="{{'CONFIRM_PASSWORD' | translate}}" required min="8" pw-check="password">
                    </label>
                    <div ng-class="isRTL() ? 'error-container-rtl' : 'error-container'" ng-hide="customerProfile.password == customerProfile.password_confirmation && customerProfile.password_confirmation.length > 0">
                        <div class="error" ng-hide="customerProfile.password_confirmation.length > 0">
                            <i class="ion-information-circled"></i>
                            {{'VALIDATION_REQUIRED' | translate}}
                        </div>
                        <div class="error" ng-show="customerProfile.password != customerProfile.password_confirmation && customerProfile.password && customerProfile.password_confirmation">
                            <i class="ion-information-circled"></i>
                            {{'VALIDATION_PASSWORD_DONT_MATCH' | translate}}
                        </div>
                    </div>
                    <label class="item item-input item-floating-label" style="margin-top: 5px; padding: 0px 5px;float:none;" ng-class="lang == 'ar' ? 'right_to_left' : 'left_to_right'">
                        <span class="input-label assertive-900" style="text-align: {{default_float}};"><i class="icon ion-checkmark" style="color: green;" ng-show="Cform.cemail.$valid"></i> {{'EMAIL' | translate}}</span>
                        <input type="email" style="padding-right: 0px;" name="cemail" ng-model="customerProfile.email" placeholder="{{'EMAIL' | translate}}" >
                    </label>
                    <div ng-class="isRTL() ? 'error-container-rtl' : 'error-container'" ng-hide="Cform.cemail.$valid">
                        <div class="error" ng-hide="Cform.cemail.$valid">
                            <i class="ion-information-circled"></i>
                            {{'VALIDATION_EMAIL_MATCH' | translate}}
                        </div>
                    </div>
                    <label class="item item-input item-floating-label" style="margin-top: 5px; padding: 0px 5px;float:none;" ng-class="lang == 'ar' ? 'right_to_left' : 'left_to_right'">
                        <span class="input-label assertive-900"><i class="icon ion-checkmark" style="color: green;" ng-show="!((Cform.cphone.$error.minlength || Cform.cphone.$error.maxlength) && Cform.cphone.$dirty)"></i> {{'Mobile' | translate}}</span>
                        <input type="number" style="padding-right: 0px;" name="cphone" ng-model="customerProfile.phone" ng-minlength="10" ng-maxlength="10" placeholder="{{'Mobile' | translate}}" only-num>
                    </label>
                    <div ng-class="isRTL() ? 'error-container-rtl' : 'error-container'" ng-show="((Cform.cphone.$error.minlength || Cform.cphone.$error.maxlength) && Cform.cphone.$dirty)"  >
                        <div class="error" ng-show="((Cform.cphone.$error.minlength || Cform.cphone.$error.maxlength) && Cform.cphone.$dirty)">
                            <i class="ion-information-circled"></i>
                            {{'VALIDATION_MOBILE_MATCH' | translate}}
                        </div>
                    </div>
                        <label class="item item-input item-floating-label" style="margin-top: 5px; padding: 0px 5px;float:none;" ng-class="lang == 'ar' ? 'right_to_left' : 'left_to_right'">
                            <span class="input-label assertive-900" style="text-align: {{default_float}};"><i class="icon ion-checkmark" style="color: green;"></i> {{'GENDER' | translate}}</span>
                            <ion-radio ng-model="customerProfile.gender" ng-value="'Famale'">{{'FEMALE' | translate}}</ion-radio>
                            <ion-radio ng-model="customerProfile.gender" ng-value="'Male'">{{'MALE' | translate}}</ion-radio>
                        </label>
                    </div>

                <button class="button button-small button-balanced button-block" ng-disabled="!customerProfile.username || !customerProfile.full_name || !customerProfile.password_confirmation ||!customerProfile.password || (customerProfile.password != customerProfile.password_confirmation) || (((Cform.cphone.$error.minlength || Cform.cphone.$error.maxlength) && Cform.cphone.$dirty)) || !Cform.cemail.$valid " ng-click="updateProfile()" type="submit" translate="UPDATE_ACCOUNT"></button>
            </form>
        </div>
    </ion-content>
</ion-modal-view>
