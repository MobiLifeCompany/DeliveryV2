<ion-modal-view ng-controller="RegisterCtrl" dir="{{default_direction}}">
    <ion-header-bar class="bar-assertive">
        <h1 class="title title-right" translate="REGISTER" ng-show="isRTL()"></h1>
        <button class="button button-icon button-clear" ng-click="closeRegister()"><span class="icon" ng-class="isRTL() ? 'ion-chevron-right' : 'ion-chevron-left'"></span></button>
        <h1 class="title" translate="REGISTER" ng-show="!isRTL()"></h1>
    </ion-header-bar>

    <ion-content overflow-scroll="false">
        <div class="text-center padding-top" style="height: 25%; min-height: 100px; background-image: url('img/modal-bg.jpg'); background-repeat: repeat-x; background-size: contain; background-position: center;">
            <img src="img/delivery_logo.png" style="vertical-align: middle;">
        </div>
        <div class="padding-left padding-right" ng-class="{'text-right': isRTL()}">
            <form>
                <div class="list">
                    <label class="item item-input item-floating-label" style="margin-top: 5px; padding: 0px 5px;">
                        <span class="input-label assertive-900" style="text-align: {{default_float}};"><i class="icon ion-checkmark" style="color: green;" ng-show="customer.username.length >= 3"></i> {{'USERNAME' | translate}}</span>
                        <input type="text" style="padding-right: 0px;" ng-model="customer.username" placeholder="{{'USERNAME' | translate}}" required min="3">
                    </label>
                    <div ng-class="isRTL() ? 'error-container-rtl' : 'error-container'" ng-hide="customer.username.length >= 3">
                        <div class="error" ng-hide="customer.username.length > 0">
                            <i class="ion-information-circled"></i>
                            {{'VALIDATION_REQUIRED' | translate}}
                        </div>
                        <div class="error" ng-show="customer.username.length < 3">
                            <i class="ion-information-circled"></i>
                            {{'VALIDATION_MIN_3' | translate}}
                        </div>
                    </div>
                    <label class="item item-input item-floating-label" style="margin-top: 5px; padding: 0px 5px;">
                        <span class="input-label assertive-900" style="text-align: {{default_float}};"><i class="icon ion-checkmark" style="color: green;" ng-show="customer.full_name.length >= 3"></i> {{'FULL_NAME' | translate}}</span>
                        <input type="text" style="padding-right: 0px;" ng-model="customer.full_name" placeholder="{{'FULL_NAME' | translate}}" required min="3">
                    </label>
                    <div ng-class="isRTL() ? 'error-container-rtl' : 'error-container'" ng-hide="customer.full_name.length >= 3">
                        <div class="error" ng-hide="customer.full_name.length > 0">
                            <i class="ion-information-circled"></i>
                            {{'VALIDATION_REQUIRED' | translate}}
                        </div>
                        <div class="error" ng-show="customer.full_name.length < 3">
                            <i class="ion-information-circled"></i>
                            {{'VALIDATION_MIN_3' | translate}}
                        </div>
                    </div>
                    <label class="item item-input item-floating-label" style="margin-top: 5px; padding: 0px 5px;">
                        <span class="input-label assertive-900" style="text-align: {{default_float}};"><i class="icon ion-checkmark" style="color: green;" ng-show="customer.password.length >= 8"></i> {{'PASSWORD' | translate}}</span>
                        <input type="password" style="padding-right: 0px;" ng-model="customer.password" placeholder="{{'PASSWORD' | translate}}" required min="8">
                    </label>
                    <div ng-class="isRTL() ? 'error-container-rtl' : 'error-container'" ng-hide="customer.password.length >= 8">
                        <div class="error" ng-hide="customer.password.length > 0">
                            <i class="ion-information-circled"></i>
                            {{'VALIDATION_REQUIRED' | translate}}
                        </div>
                        <div class="error" ng-show="customer.password.length < 8">
                            <i class="ion-information-circled"></i>
                            {{'VALIDATION_MIN_8' | translate}}
                        </div>
                    </div>
                    <label class="item item-input item-floating-label" style="margin-top: 5px; padding: 0px 5px;">
                        <span class="input-label assertive-900" style="text-align: {{default_float}};"><i class="icon ion-checkmark" style="color: green;" ng-show="customer.password_confirmation == customer.password"></i> {{'CONFIRM_PASSWORD' | translate}}</span>
                        <input type="password" style="padding-right: 0px;" ng-model="customer.password_confirmation" placeholder="{{'CONFIRM_PASSWORD' | translate}}" required min="8" pw-check="password">
                    </label>
                    <div ng-class="isRTL() ? 'error-container-rtl' : 'error-container'" ng-hide="customer.password == customer.password_confirmation && customer.password_confirmation.length > 0">
                        <div class="error" ng-hide="customer.password_confirmation.length > 0">
                            <i class="ion-information-circled"></i>
                            {{'VALIDATION_REQUIRED' | translate}}
                        </div>
                        <div class="error" ng-show="customer.password != customer.password_confirmation && customer.password && customer.password_confirmation">
                            <i class="ion-information-circled"></i>
                            {{'VALIDATION_PASSWORD_DONT_MATCH' | translate}}
                        </div>
                    </div>
                </div>

                <button class="button button-small button-balanced button-block" ng-disabled="!customer.username || !customer.full_name || !customer.password_confirmation ||!customer.password || (customer.password != customer.password_confirmation)" ng-click="register()" type="submit" translate="CREATE_ACCOUNT"></button>
            </form>
        </div>
    </ion-content>
</ion-modal-view>
